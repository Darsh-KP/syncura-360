<div class="p-6 w-full max-w-2xl mx-auto overflow-auto">
  <h2 class="text-2xl font-semibold text-gray-700 mb-6 text-center">
    {{ data ? 'Edit Staff Member' : 'Create New Staff' }}
  </h2>

  <form [formGroup]="staffForm" (ngSubmit)="submitForm()" 
        class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full">

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Username</mat-label>
      <input matInput formControlName="username" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Password</mat-label>
      <input matInput type="password" formControlName="passwordHash" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Role</mat-label>
      <mat-select formControlName="role" required>
        <mat-option *ngFor="let role of ['Admin', 'Doctor', 'Nurse']" [value]="role">{{ role }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Email</mat-label>
      <input matInput type="email" formControlName="email" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Phone (10 digits)</mat-label>
      <input matInput formControlName="phone" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Address 1</mat-label>
      <input matInput formControlName="addressLine1" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Address 2</mat-label>
      <input matInput formControlName="addressLine2" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>City</mat-label>
      <input matInput formControlName="city" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>State</mat-label>
      <input matInput formControlName="state" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Postal Code (5 digits)</mat-label>
      <input matInput formControlName="postal" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Country</mat-label>
      <input matInput formControlName="country" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Date of Birth</mat-label>
      <input matInput type="date" formControlName="dateOfBirth" required>
    </mat-form-field>

    <!-- Buttons: Submit (Add/Update) and Cancel -->
    <div class="flex gap-4 col-span-2 justify-center">
      <button mat-raised-button color="primary" type="submit" [disabled]="loading">
        {{ data ? 'Update' : 'Add' }} Staff
      </button>
      <button mat-raised-button color="warn" type="button" (click)="closeDialog()">
        Cancel
      </button>
    </div>

    <!-- "Done" Button to Close the Dialog After Edits -->
    <div class="col-span-2 text-center mt-4" *ngIf="data">
      <button mat-stroked-button color="primary" type="button" (click)="closeDialog()">
        Done
      </button>
    </div>

  </form>

  <p *ngIf="createStaffError" class="text-red-600 text-center mt-4">{{ createStaffError }}</p>
</div>
